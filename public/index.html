<html ng-app="contactsApp">
<head>
	<!-- Latest compiled and minified CSS -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- Optional theme -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">


	<title>Contact List App</title>
</head>
<body>
  <div class="container" ng-controller="AppCtrl">
      <h1>My Contact List App </h1>
              <br><br>
              <form class="form-inline">
                <div class="form-group">
                  <label>Search</label>
                   <input type="text" ng-model="search" class="form-control" placeholder="Search">
                </div>
             </form>

    <form name = "myForm" novalidate>
       <table class="table">
          <thead>
               <tr>
                  <th ng-click = "sort('name')">Name
                    <span class="glyphicon sort-icon" ng-show="sortKey=='name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  </th>
                  <th ng-click="sort('email')">Email
                    <span class="glyphicon sort-icon" ng-show="sortKey=='email'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  </th>
                  <th ng-click="sort('number')">Number
                    <span class="glyphicon sort-icon" ng-show="sortKey=='number'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  </th>
                  <th>Action</th>
                  <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody>
              <tr>
                 <td><input name="user" class="form-control" ng-model="contact.name" ng-pattern ="/^[a-zA-Z\s]*$/" required>
                  <span style="color:red" ng-show="myForm.user.$dirty && myForm.user.$invalid">
                  <span ng-show="myForm.user.$error.pattern">Please Enter Only Alphabets</span>
                  <span ng-show="myForm.user.$error.required">Name is required</span>
                  </span>
                 </td>
                 <td><input class="form-control" type="email" name="email" ng-model="contact.email" required>
                  <span style="color:red" ng-show="myForm.email.$dirty && myForm.email.$invalid">
                    <span ng-show="myForm.email.$error.required">Email is required.</span>
                    <span ng-show="myForm.email.$error.email">Invalid email address.</span>
                  </span>
                 </td>
                 <td><input name="num" class="form-control" ng-model="contact.number" ng-pattern ="/^[0-9\-]*$/" required>
                  <span style="color:red" ng-show="myForm.num.$dirty && myForm.num.$invalid">
                   <span ng-show="myForm.num.$error.pattern">Please Enter Only Numbers</span>
                   <span ng-show="myForm.num.$error.required">Number is required</span>
                  </span>
                 </td>

                 <td><button class="btn btn-primary" ng-click="addContact()" ng-disabled="myForm.$required || myForm.$invalid ">Add Contact</button></td>
                 <td><button class="btn btn-info" ng-click="update()">Update</button>&nbsp;&nbsp;&nbsp;<button class="btn btn-info" 
                  ng-click="deselect()">Clear</button></td>
              </tr>
              
              <tr ng-repeat ="contact in contactlist | orderBy: sortKey: reverse | filter: search | startFrom: (currentPage - 1) * pageSize | limitTo : pageSize ">
                 <td>{{contact.name}}</td>
                 <td>{{contact.email}}</td>
                 <td>{{contact.number}}</td>
                 <td><button class="btn btn-danger" ng-click="remove(contact._id)">Remove</button></td>
                 <td><button class="btn btn-warning" ng-click="edit(contact._id)">Edit</button></td>
              </tr>

            </tbody>
        </table>
    </form>
        <div>
         <uib-pagination  ng-model="currentPage" total-items="contactlist.length" items-per-page="pageSize" boundary-links="true"></uib-pagination>
        </div>
   </div>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
<script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.3.js"></script>
<script src="controllers/controller.js"></script>
</body>
</html>